<div class="app-container">
  <!-- Toolbar -->
  <mat-toolbar
    class="container-fluid mat-app-background d-flex align-items-center justify-content-between px-4 sticky-top shadow-on-scroll"
  >
    <div class="d-flex align-items-center">
      <img
        src="wallet.gif"
        alt="Wallet Icon"
        class="me-3"
        style="height: 50px"
      />
      <a
        class="navbar-brand"
        routerLink="{ active: isActive('/') }"
        routerLink="/welcome"
      >
        {{ title }}
      </a>
    </div>
    <div class="d-flex">
      <ul class="navbar-nav d-flex flex-row mb-0 align-items-center">
        <li class="nav-item">
          <a
            class="nav-link"
            [ngClass]="{ active: isActive('/homepage') }"
            routerLink="/homepage"
            *ngIf="authService.loggedIn$ | async"
            >Dashboard</a
          >
        </li>
        <li class="nav-item ms-4">
          <a
            class="nav-link"
            [ngClass]="{ active: isActive('/budget') }"
            routerLink="/budget"
            >Budget</a
          >
        </li>
        <li class="nav-item ms-4">
          <a
            class="nav-link"
            [ngClass]="{ active: isActive('/expenses') }"
            routerLink="/expenses"
            >Expenses</a
          >
        </li>
        <li class="nav-item ms-4">
          <a
            class="nav-link"
            [ngClass]="{ active: isActive('/reminders') }"
            routerLink="/reminders"
            >Reminders</a
          >
        </li>
      </ul>

      <!-- Profile Icon -->
      <div class="d-flex align-items-center ms-4">
        <a
          routerLink="/profile"
          mat-icon-button
          aria-label="Profile"
          class="d-flex align-items-center"
          [matTooltip]="'Profile'"
        >
          <img
            src="./user.png"
            alt="User Profile"
            class="rounded-circle"
            style="height: 40px; width: 40px"
          />
        </a>
      </div>
      <button  *ngIf="!(authService.loggedIn$ | async)" class="btn btn-primary" (click)="login()">Login</button>
      <button *ngIf="authService.loggedIn$ | async" class="btn btn-primary" (click)="logout()">Logout</button>

      <!--<span *ngIf="authService.user$ | async as user" class="ms-4">
        {{ user }}
      </span>
      <ng-template #Guest>
        <span class="ms-4">Guest</span>
      </ng-template>
      <div class="d-flex justify-content-end">
        <ng-container *ngIf="!(authService.loggedIn$ | async)">
          <button class="btn btn-primary mr-2" (click)="loginAsUser()"></button>
        </ng-container>
        <button *ngIf="authService.loggedIn$ | async" class="btn btn-primary" (click)="logout()">Logout</button>
      </div>-->
    </div>
  </mat-toolbar>

  <!-- Main Content -->
  <router-outlet></router-outlet>

  <!-- Footer -->
  <app-footer></app-footer>
</div>
